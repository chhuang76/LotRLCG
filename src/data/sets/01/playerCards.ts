/**
 * Core Set (01) - Player Cards
 *
 * All player cards from the Core Set including heroes, allies, events, and attachments.
 * Card codes: 01001 - 01073
 */

import type { PlayerCard } from '../../../engine/types';

// ── Heroes ────────────────────────────────────────────────────────────────────

export const HEROES: PlayerCard[] = [
    {
        code: '01001',
        name: 'Aragorn',
        type_code: 'hero',
        sphere_code: 'leadership',
        threat: 12,
        willpower: 2,
        attack: 3,
        defense: 2,
        health: 5,
        traits: 'Dúnedain. Noble. Ranger.',
        text: "<b>Action:</b> Spend 1 resource from Aragorn's pool to ready him. (Limit once per phase.)",
        quantity: 1,
    },
    {
        code: '01002',
        name: 'Théodred',
        type_code: 'hero',
        sphere_code: 'leadership',
        threat: 8,
        willpower: 1,
        attack: 2,
        defense: 1,
        health: 4,
        traits: 'Noble. Rohan. Warrior.',
        text: '<b>Response:</b> After Théodred commits to a quest, choose a hero committed to that quest. Add 1 resource to that hero\'s resource pool.',
        quantity: 1,
    },
    {
        code: '01003',
        name: 'Glóin',
        type_code: 'hero',
        sphere_code: 'leadership',
        threat: 9,
        willpower: 2,
        attack: 2,
        defense: 1,
        health: 4,
        traits: 'Dwarf. Noble.',
        text: '<b>Response:</b> After Glóin suffers damage, add 1 resource to his resource pool for each point of damage he just suffered.',
        quantity: 1,
    },
    {
        code: '01004',
        name: 'Gimli',
        type_code: 'hero',
        sphere_code: 'tactics',
        threat: 11,
        willpower: 2,
        attack: 2,
        defense: 2,
        health: 5,
        traits: 'Dwarf. Warrior.',
        text: '<b>Forced:</b> After Gimli takes damage, he gets +1 [attack] for each damage token on him until the end of the round.',
        quantity: 1,
    },
    {
        code: '01005',
        name: 'Legolas',
        type_code: 'hero',
        sphere_code: 'tactics',
        threat: 9,
        willpower: 1,
        attack: 3,
        defense: 1,
        health: 4,
        traits: 'Silvan. Noble.',
        text: '<b>Response:</b> After Legolas participates in an attack that destroys an enemy, place 2 progress tokens on the current quest.',
        quantity: 1,
    },
    {
        code: '01006',
        name: 'Thalin',
        type_code: 'hero',
        sphere_code: 'tactics',
        threat: 9,
        willpower: 1,
        attack: 2,
        defense: 2,
        health: 4,
        traits: 'Dwarf. Warrior.',
        text: 'While Thalin is committed to a quest, deal 1 damage to each enemy as it is revealed by the encounter deck.',
        quantity: 1,
    },
    {
        code: '01007',
        name: 'Éowyn',
        type_code: 'hero',
        sphere_code: 'spirit',
        threat: 9,
        willpower: 4,
        attack: 1,
        defense: 1,
        health: 3,
        traits: 'Noble. Rohan.',
        text: '<b>Action:</b> Discard 1 card from your hand to give Éowyn +1 [willpower] until the end of the phase. This effect may be triggered by each player once each round.',
        quantity: 1,
    },
    {
        code: '01008',
        name: 'Eleanor',
        type_code: 'hero',
        sphere_code: 'spirit',
        threat: 7,
        willpower: 1,
        attack: 1,
        defense: 2,
        health: 3,
        traits: 'Gondor. Noble.',
        text: '<b>Response:</b> Exhaust Eleanor to cancel the "when revealed" effects of a treachery card just revealed by the encounter deck. Then, discard that card, and replace it with the next card from the encounter deck.',
        quantity: 1,
    },
    {
        code: '01009',
        name: 'Dúnhere',
        type_code: 'hero',
        sphere_code: 'spirit',
        threat: 8,
        willpower: 1,
        attack: 2,
        defense: 1,
        health: 4,
        traits: 'Rohan. Warrior.',
        text: 'Dúnhere can target enemies in the staging area when he attacks alone. When doing so, he gets +1 [attack].',
        quantity: 1,
    },
    {
        code: '01010',
        name: 'Denethor',
        type_code: 'hero',
        sphere_code: 'lore',
        threat: 8,
        willpower: 1,
        attack: 1,
        defense: 3,
        health: 3,
        traits: 'Gondor. Noble. Steward.',
        text: '<b>Action:</b> Exhaust Denethor to look at the top card of the encounter deck. You may move that card to the bottom of the deck.',
        quantity: 1,
    },
    {
        code: '01011',
        name: 'Glorfindel',
        type_code: 'hero',
        sphere_code: 'lore',
        threat: 12,
        willpower: 3,
        attack: 3,
        defense: 1,
        health: 5,
        traits: 'Noble. Noldor. Warrior.',
        text: '<b>Action:</b> Pay 1 resource from Glorfindel\'s pool to heal 1 damage on any character. (Limit once per round.)',
        quantity: 1,
    },
    {
        code: '01012',
        name: 'Beravor',
        type_code: 'hero',
        sphere_code: 'lore',
        threat: 10,
        willpower: 2,
        attack: 2,
        defense: 2,
        health: 4,
        traits: 'Dúnedain. Ranger.',
        text: '<b>Action:</b> Exhaust Beravor to choose a player. That player draws 2 cards. (Limit once per round.)',
        quantity: 1,
    },
];

// ── Allies ────────────────────────────────────────────────────────────────────

export const ALLIES: PlayerCard[] = [
    {
        code: '01013',
        name: 'Guard of the Citadel',
        type_code: 'ally',
        sphere_code: 'leadership',
        cost: 2,
        willpower: 1,
        attack: 1,
        defense: 0,
        health: 2,
        traits: 'Gondor. Warrior.',
        text: '',
        quantity: 3,
    },
    {
        code: '01014',
        name: 'Faramir',
        type_code: 'ally',
        sphere_code: 'leadership',
        cost: 4,
        willpower: 2,
        attack: 1,
        defense: 2,
        health: 3,
        traits: 'Gondor. Noble. Ranger.',
        text: '<b>Action:</b> Exhaust Faramir to choose a player. Each character controlled by that player gets +1 [willpower] until the end of the phase.',
        quantity: 2,
    },
    {
        code: '01015',
        name: 'Son of Arnor',
        type_code: 'ally',
        sphere_code: 'leadership',
        cost: 3,
        willpower: 0,
        attack: 2,
        defense: 0,
        health: 2,
        traits: 'Dúnedain.',
        text: '<b>Response:</b> After Son of Arnor enters play, choose an enemy card in the staging area or currently engaged with another player. Engage that enemy.',
        quantity: 2,
    },
    {
        code: '01016',
        name: 'Snowbourn Scout',
        type_code: 'ally',
        sphere_code: 'leadership',
        cost: 1,
        willpower: 0,
        attack: 0,
        defense: 1,
        health: 1,
        traits: 'Rohan. Scout.',
        text: '<b>Response:</b> After Snowbourn Scout enters play, choose a location. Place 1 progress token on that location.',
        quantity: 3,
    },
    {
        code: '01017',
        name: 'Silverlode Archer',
        type_code: 'ally',
        sphere_code: 'leadership',
        cost: 3,
        willpower: 1,
        attack: 2,
        defense: 0,
        health: 1,
        traits: 'Silvan. Archer.',
        text: 'Ranged.',
        quantity: 2,
    },
    {
        code: '01018',
        name: 'Longbeard Orc Slayer',
        type_code: 'ally',
        sphere_code: 'leadership',
        cost: 4,
        willpower: 0,
        attack: 2,
        defense: 1,
        health: 3,
        traits: 'Dwarf. Warrior.',
        text: '<b>Response:</b> After Longbeard Orc Slayer enters play, deal 1 damage to each Orc enemy in play.',
        quantity: 2,
    },
    {
        code: '01028',
        name: 'Veteran Axehand',
        type_code: 'ally',
        sphere_code: 'tactics',
        cost: 2,
        willpower: 0,
        attack: 2,
        defense: 1,
        health: 2,
        traits: 'Dwarf. Warrior.',
        text: '',
        quantity: 3,
    },
    {
        code: '01029',
        name: 'Gondorian Spearman',
        type_code: 'ally',
        sphere_code: 'tactics',
        cost: 2,
        willpower: 0,
        attack: 1,
        defense: 1,
        health: 1,
        traits: 'Gondor. Warrior.',
        text: 'Sentinel.<br/><b>Response:</b> After Gondorian Spearman is declared as a defender, deal 1 damage to the attacking enemy.',
        quantity: 3,
    },
    {
        code: '01030',
        name: 'Horseback Archer',
        type_code: 'ally',
        sphere_code: 'tactics',
        cost: 3,
        willpower: 0,
        attack: 2,
        defense: 1,
        health: 2,
        traits: 'Rohan. Archer.',
        text: 'Ranged.',
        quantity: 2,
    },
    {
        code: '01031',
        name: 'Beorn',
        type_code: 'ally',
        sphere_code: 'tactics',
        cost: 6,
        willpower: 1,
        attack: 3,
        defense: 3,
        health: 6,
        traits: 'Beorning. Warrior.',
        text: 'Beorn cannot have attachments.<br/>At the end of the combat phase, shuffle Beorn back into your deck.',
        quantity: 1,
    },
    {
        code: '01044',
        name: 'Lórien Guide',
        type_code: 'ally',
        sphere_code: 'spirit',
        cost: 3,
        willpower: 1,
        attack: 1,
        defense: 0,
        health: 2,
        traits: 'Silvan. Scout.',
        text: '<b>Response:</b> After Lórien Guide commits to a quest, place 1 progress token on the active location.',
        quantity: 3,
    },
    {
        code: '01045',
        name: 'Northern Tracker',
        type_code: 'ally',
        sphere_code: 'spirit',
        cost: 4,
        willpower: 1,
        attack: 2,
        defense: 2,
        health: 3,
        traits: 'Dúnedain. Ranger.',
        text: '<b>Response:</b> After Northern Tracker commits to a quest, place 1 progress token on each location in the staging area.',
        quantity: 2,
    },
    {
        code: '01046',
        name: 'The Galadhrim\'s Greeting',
        type_code: 'event',
        sphere_code: 'spirit',
        cost: 3,
        traits: '',
        text: '<b>Action:</b> Reduce one player\'s threat by 6, or reduce each player\'s threat by 2.',
        quantity: 2,
    },
    {
        code: '01058',
        name: 'Gleowine',
        type_code: 'ally',
        sphere_code: 'lore',
        cost: 2,
        willpower: 1,
        attack: 0,
        defense: 0,
        health: 2,
        traits: 'Rohan. Minstrel.',
        text: '<b>Action:</b> Exhaust Gleowine to choose a player. That player draws 1 card.',
        quantity: 2,
    },
    {
        code: '01059',
        name: 'Henamarth Riversong',
        type_code: 'ally',
        sphere_code: 'lore',
        cost: 1,
        willpower: 1,
        attack: 1,
        defense: 0,
        health: 1,
        traits: 'Silvan. Minstrel.',
        text: '<b>Action:</b> Exhaust Henamarth Riversong to look at the top card of the encounter deck.',
        quantity: 1,
    },
    {
        code: '01060',
        name: 'Miner of the Iron Hills',
        type_code: 'ally',
        sphere_code: 'lore',
        cost: 2,
        willpower: 0,
        attack: 1,
        defense: 1,
        health: 2,
        traits: 'Dwarf.',
        text: '<b>Response:</b> After Miner of the Iron Hills enters play, choose and discard 1 Condition attachment from a character.',
        quantity: 2,
    },
    {
        code: '01073',
        name: 'Gandalf',
        type_code: 'ally',
        sphere_code: 'neutral',
        cost: 5,
        willpower: 4,
        attack: 4,
        defense: 4,
        health: 4,
        traits: 'Istari.',
        text: 'At the end of the round, discard Gandalf from play.<br/><b>Response:</b> After Gandalf enters play, (choose 1): draw 3 cards, deal 4 damage to 1 enemy in play, or reduce your threat by 5.',
        quantity: 3,
    },
];

// ── Attachments ───────────────────────────────────────────────────────────────

export const ATTACHMENTS: PlayerCard[] = [
    {
        code: '01026',
        name: 'Steward of Gondor',
        type_code: 'attachment',
        sphere_code: 'leadership',
        cost: 2,
        traits: 'Gondor. Title.',
        text: "Attach to a hero.<br/><b>Action:</b> Exhaust Steward of Gondor to add 2 resources to attached hero's pool.",
        quantity: 2,
    },
    {
        code: '01027',
        name: "Celebrían's Stone",
        type_code: 'attachment',
        sphere_code: 'leadership',
        cost: 2,
        traits: 'Artifact. Item.',
        text: 'Attach to a hero. Attached hero gains the Spirit trait and gets +2 [willpower].',
        quantity: 1,
    },
    {
        code: '01039',
        name: 'Blade of Gondolin',
        type_code: 'attachment',
        sphere_code: 'tactics',
        cost: 1,
        traits: 'Item. Weapon.',
        text: 'Attach to a hero. Restricted.<br/>Attached hero gets +1 [attack].<br/><b>Response:</b> After attached hero attacks and destroys an enemy, place 1 progress token on the current quest.',
        quantity: 2,
    },
    {
        code: '01040',
        name: 'Citadel Plate',
        type_code: 'attachment',
        sphere_code: 'tactics',
        cost: 4,
        traits: 'Item. Armor.',
        text: 'Attach to a hero. Restricted.<br/>Attached hero gets +4 [health].',
        quantity: 2,
    },
    {
        code: '01041',
        name: 'Dwarven Axe',
        type_code: 'attachment',
        sphere_code: 'tactics',
        cost: 2,
        traits: 'Item. Weapon.',
        text: 'Attach to a hero. Restricted.<br/>Attached hero gets +1 [attack]. (+2 [attack] instead if attached hero is a Dwarf.)',
        quantity: 2,
    },
    {
        code: '01042',
        name: 'Horn of Gondor',
        type_code: 'attachment',
        sphere_code: 'tactics',
        cost: 1,
        traits: 'Item. Artifact.',
        text: 'Attach to a hero. Restricted.<br/><b>Response:</b> After a character leaves play, add 1 resource to attached hero\'s pool.',
        quantity: 1,
    },
    {
        code: '01053',
        name: 'The Favor of the Lady',
        type_code: 'attachment',
        sphere_code: 'spirit',
        cost: 2,
        traits: 'Condition.',
        text: 'Attach to a hero.<br/>Attached hero gets +1 [willpower].',
        quantity: 2,
    },
    {
        code: '01054',
        name: 'Power in the Earth',
        type_code: 'attachment',
        sphere_code: 'spirit',
        cost: 1,
        traits: 'Condition.',
        text: 'Attach to a location.<br/>Attached location gets -1 [threat].',
        quantity: 2,
    },
    {
        code: '01055',
        name: 'Unexpected Courage',
        type_code: 'attachment',
        sphere_code: 'spirit',
        cost: 2,
        traits: 'Condition.',
        text: 'Attach to a hero.<br/><b>Action:</b> Exhaust Unexpected Courage to ready attached hero.',
        quantity: 1,
    },
    {
        code: '01066',
        name: 'Forest Snare',
        type_code: 'attachment',
        sphere_code: 'lore',
        cost: 3,
        traits: 'Item. Trap.',
        text: 'Attach to an enemy engaged with a player.<br/>Attached enemy cannot attack.',
        quantity: 2,
    },
    {
        code: '01067',
        name: 'Protector of Lórien',
        type_code: 'attachment',
        sphere_code: 'lore',
        cost: 1,
        traits: 'Title.',
        text: 'Attach to a hero.<br/><b>Action:</b> Discard a card from your hand to give attached hero +1 [defense] or +1 [willpower] until the end of the phase. (Limit 3 times per phase.)',
        quantity: 2,
    },
    {
        code: '01068',
        name: 'Dark Knowledge',
        type_code: 'attachment',
        sphere_code: 'lore',
        cost: 1,
        traits: 'Condition.',
        text: 'Attach to a hero.<br/><b>Action:</b> Exhaust Dark Knowledge to look at 1 shadow card that has been dealt to an enemy.',
        quantity: 1,
    },
    {
        code: '01069',
        name: 'Self Preservation',
        type_code: 'attachment',
        sphere_code: 'lore',
        cost: 3,
        traits: 'Skill.',
        text: 'Attach to a character.<br/><b>Action:</b> Exhaust Self Preservation to heal 2 damage from attached character.',
        quantity: 2,
    },
];

// ── Events ────────────────────────────────────────────────────────────────────

export const EVENTS: PlayerCard[] = [
    {
        code: '01019',
        name: 'Ever Vigilant',
        type_code: 'event',
        sphere_code: 'leadership',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Choose and ready 1 ally card.',
        quantity: 2,
    },
    {
        code: '01020',
        name: 'Common Cause',
        type_code: 'event',
        sphere_code: 'leadership',
        cost: 0,
        traits: '',
        text: '<b>Action:</b> Exhaust 1 hero you control to choose and ready a different hero.',
        quantity: 2,
    },
    {
        code: '01021',
        name: 'For Gondor!',
        type_code: 'event',
        sphere_code: 'leadership',
        cost: 2,
        traits: '',
        text: '<b>Action:</b> Until the end of the phase, all characters get +1 [attack]. All Gondor characters also get +1 [defense] until the end of the phase.',
        quantity: 2,
    },
    {
        code: '01023',
        name: 'Sneak Attack',
        type_code: 'event',
        sphere_code: 'leadership',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Put an ally card from your hand into play. At the end of the phase, if that ally is still in play, return it to your hand.',
        quantity: 2,
    },
    {
        code: '01024',
        name: 'Valiant Sacrifice',
        type_code: 'event',
        sphere_code: 'leadership',
        cost: 1,
        traits: '',
        text: '<b>Response:</b> After an ally card leaves play, that card\'s controller draws 2 cards.',
        quantity: 2,
    },
    {
        code: '01025',
        name: 'Grim Resolve',
        type_code: 'event',
        sphere_code: 'leadership',
        cost: 5,
        traits: '',
        text: '<b>Action:</b> Ready all character cards in play.',
        quantity: 1,
    },
    {
        code: '01034',
        name: 'Blade Mastery',
        type_code: 'event',
        sphere_code: 'tactics',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Choose a character. Until the end of the phase, that character gains +1 [attack] and +1 [defense].',
        quantity: 3,
    },
    {
        code: '01035',
        name: 'Rain of Arrows',
        type_code: 'event',
        sphere_code: 'tactics',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Exhaust a character you control with the ranged keyword to choose a player. Deal 1 damage to each enemy engaged with that player.',
        quantity: 2,
    },
    {
        code: '01036',
        name: 'Feint',
        type_code: 'event',
        sphere_code: 'tactics',
        cost: 1,
        traits: '',
        text: '<b>Combat Action:</b> Choose an enemy engaged with a player. That enemy cannot attack that player this phase.',
        quantity: 2,
    },
    {
        code: '01037',
        name: 'Swift Strike',
        type_code: 'event',
        sphere_code: 'tactics',
        cost: 2,
        traits: '',
        text: '<b>Response:</b> After a character is declared as a defender, deal 2 damage to the attacking enemy.',
        quantity: 2,
    },
    {
        code: '01038',
        name: 'Quick Strike',
        type_code: 'event',
        sphere_code: 'tactics',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Exhaust a character you control to immediately declare it as an attacker (and resolve its attack) against any eligible enemy target.',
        quantity: 2,
    },
    {
        code: '01047',
        name: 'Strength of Will',
        type_code: 'event',
        sphere_code: 'spirit',
        cost: 0,
        traits: '',
        text: '<b>Response:</b> After you travel to a location, exhaust a Spirit character to place 2 progress tokens on that location.',
        quantity: 2,
    },
    {
        code: '01048',
        name: 'Hasty Stroke',
        type_code: 'event',
        sphere_code: 'spirit',
        cost: 1,
        traits: '',
        text: '<b>Response:</b> Cancel a shadow effect just triggered during combat.',
        quantity: 2,
    },
    {
        code: '01049',
        name: 'Will of the West',
        type_code: 'event',
        sphere_code: 'spirit',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Shuffle your discard pile back into your deck.',
        quantity: 2,
    },
    {
        code: '01050',
        name: 'A Test of Will',
        type_code: 'event',
        sphere_code: 'spirit',
        cost: 1,
        traits: '',
        text: '<b>Response:</b> Cancel the "when revealed" effects of a card that was just revealed from the encounter deck.',
        quantity: 2,
    },
    {
        code: '01051',
        name: 'Stand and Fight',
        type_code: 'event',
        sphere_code: 'spirit',
        cost: 0,
        traits: '',
        text: '<b>Action:</b> Choose an ally card in any player\'s discard pile. Put that ally into play under your control. (The chosen ally may belong to any sphere of influence.) You must pay the chosen ally\'s resource cost.',
        quantity: 3,
    },
    {
        code: '01052',
        name: 'A Light in the Dark',
        type_code: 'event',
        sphere_code: 'spirit',
        cost: 2,
        traits: '',
        text: '<b>Action:</b> Choose an enemy engaged with a player. Return that enemy to the staging area.',
        quantity: 2,
    },
    {
        code: '01062',
        name: 'Lore of Imladris',
        type_code: 'event',
        sphere_code: 'lore',
        cost: 2,
        traits: '',
        text: '<b>Action:</b> Choose a character. Heal all damage from that character.',
        quantity: 3,
    },
    {
        code: '01063',
        name: 'Secret Paths',
        type_code: 'event',
        sphere_code: 'lore',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Choose a location in the staging area. Until the end of the phase, that location does not contribute its [threat] to the staging area.',
        quantity: 2,
    },
    {
        code: '01064',
        name: 'Radagast\'s Cunning',
        type_code: 'event',
        sphere_code: 'lore',
        cost: 1,
        traits: '',
        text: '<b>Action:</b> Choose an enemy in the staging area. Until the end of the phase, that enemy does not contribute its [threat] to the staging area.',
        quantity: 2,
    },
    {
        code: '01065',
        name: 'Strider\'s Path',
        type_code: 'event',
        sphere_code: 'lore',
        cost: 1,
        traits: '',
        text: '<b>Response:</b> After a location is revealed from the encounter deck, immediately travel to that location without resolving its Travel effect. (If another location is currently active, return it to the staging area.)',
        quantity: 2,
    },
];

// ── All Player Cards ──────────────────────────────────────────────────────────

export const ALL_PLAYER_CARDS: PlayerCard[] = [
    ...HEROES,
    ...ALLIES,
    ...ATTACHMENTS,
    ...EVENTS,
];

// ── Lookup Functions ──────────────────────────────────────────────────────────

export function getPlayerCard(code: string): PlayerCard | undefined {
    return ALL_PLAYER_CARDS.find((c) => c.code === code);
}

export function getHero(code: string): PlayerCard | undefined {
    return HEROES.find((c) => c.code === code);
}

export function getHeroes(codes: string[]): PlayerCard[] {
    return codes.map((code) => getHero(code)).filter((c): c is PlayerCard => c !== undefined);
}
